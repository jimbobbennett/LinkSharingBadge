<!DOCTYPE html>
<html>
    <head>
        <title>Badge control</title>
    </head>
    <body>
        Wearer name: <input type="text" id="wearer_name" value="">
        
        <button id="update_name">Update name</button>

        <br/>
        <br/>
        <br/>

        Link: <input type="text" id="badge_link" value="">
        
        <button id="update_link">Update link</button>

        <script type="text/javascript">
            window.addEventListener("DOMContentLoaded", function() {
                var name_input = document.getElementById('wearer_name');
                var link_input = document.getElementById('badge_link');

                document.getElementById('update_name').addEventListener('click', function() {
                    var data = {
                        'wearer_name': name_input.value
                    }

                    const getResult = async () => {
                        var result = await fetch('updateName', {
                            method: 'POST',
                            body: JSON.stringify(data),
                            headers: { 'Content-Type': 'application/json' }
                        })

                        await result.json()
                    }
                    getResult()
                });

                document.getElementById('update_link').addEventListener('click', function() {
                    var data = {
                        'badge_link': link_input.value
                    }

                    const getResult = async () => {
                        var result = await fetch('updateLink', {
                            method: 'POST',
                            body: JSON.stringify(data),
                            headers: { 'Content-Type': 'application/json' }
                        })

                        await result.json()
                    }
                    getResult()
                });
            });
        </script>
    </body>
</html>